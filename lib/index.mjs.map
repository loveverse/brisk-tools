{"version":3,"file":"index.mjs","sources":["../src/utils/index.ts"],"sourcesContent":["import { PlatformInfo } from \"./types\";\r\n\r\n/**\r\n * @description 获取操作系统信息\r\n * @returns {{osName: string, osVersion: string, platform: string}}\r\n */\r\nexport const getOsParams = (): PlatformInfo => {\r\n  const userAgent = navigator.userAgent.toLowerCase();\r\n  let name = \"Unknown\";\r\n  let version = \"Unknown\";\r\n  if (userAgent.indexOf(\"win\") > -1) {\r\n    name = \"Windows\";\r\n    if (userAgent.indexOf(\"windows nt 5.0\") > -1) {\r\n      version = \"Windows 2000\";\r\n    } else if (\r\n      userAgent.indexOf(\"windows nt 5.1\") > -1 ||\r\n      userAgent.indexOf(\"windows nt 5.2\") > -1\r\n    ) {\r\n      version = \"Windows XP\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.0\") > -1) {\r\n      version = \"Windows Vista\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.1\") > -1 || userAgent.indexOf(\"windows 7\") > -1) {\r\n      version = \"Windows 7\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.2\") > -1 || userAgent.indexOf(\"windows 8\") > -1) {\r\n      version = \"Windows 8\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.3\") > -1) {\r\n      version = \"Windows 8.1\";\r\n    } else if (\r\n      userAgent.indexOf(\"windows nt 6.2\") > -1 ||\r\n      userAgent.indexOf(\"windows nt 10.0\") > -1\r\n    ) {\r\n      version = \"Windows 10\";\r\n    } else {\r\n      version = \"Unknown\";\r\n    }\r\n  } else if (userAgent.indexOf(\"iphone\") > -1) {\r\n    name = \"Iphone\";\r\n  } else if (userAgent.indexOf(\"mac\") > -1) {\r\n    name = \"Mac\";\r\n  } else if (\r\n    userAgent.indexOf(\"x11\") > -1 ||\r\n    userAgent.indexOf(\"unix\") > -1 ||\r\n    userAgent.indexOf(\"sunname\") > -1 ||\r\n    userAgent.indexOf(\"bsd\") > -1\r\n  ) {\r\n    name = \"Unix\";\r\n  } else if (userAgent.indexOf(\"linux\") > -1) {\r\n    if (userAgent.indexOf(\"android\") > -1) {\r\n      name = \"Android\";\r\n    } else {\r\n      name = \"Linux\";\r\n    }\r\n  } else {\r\n    name = \"Unknown\";\r\n  }\r\n  return {\r\n    osName: name,\r\n    osVersion: version,\r\n    platform: /Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent) ? \"mobile\" : \"pc\",\r\n  };\r\n};\r\n\r\n/**\r\n * isBrowser\r\n * 检测代码是否运行在浏览器环境\r\n */\r\n\r\nexport const isBrowser: boolean = typeof window === \"object\" && typeof document === \"object\";\r\n\r\n/**\r\n * 获取cookie\r\n * new RegExp(`(^| )${name}=([^;]*)(;|$)`) 匹配 name=value 值\r\n * @param name[可选] cookie名称\r\n * @returns {Array | string | undefined}\r\n */\r\n\r\nexport const getCookie = (name?: string): Array<string> | string | undefined => {\r\n  // Environmental Test\r\n  if (!isBrowser) throw new Error(\"Non-browser environment, unavailable 'getCookie'\");\r\n\r\n  if (!document.cookie) throw new Error(\"No Cookie Found\");\r\n\r\n  if (name) {\r\n    const reg = new RegExp(`(^| )${name}=([^;]*)(;|$)`);\r\n    const arr = document.cookie.match(reg);\r\n    return arr ? arr[2] : undefined;\r\n  }\r\n\r\n  // Get Cookies && String => Array\r\n  return document.cookie.split(\";\");\r\n};\r\n"],"names":["getOsParams","userAgent","navigator","toLowerCase","name","version","indexOf","osName","osVersion","platform","test","isBrowser","window","_typeof","document","getCookie","Error","cookie","reg","RegExp","concat","arr","match","undefined","split"],"mappings":"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"}