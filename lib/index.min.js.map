{"version":3,"file":"index.min.js","sources":["../src/utils/index.ts"],"sourcesContent":["import { PlatformInfo } from \"./types\";\r\n\r\n/**\r\n * @description 获取操作系统信息\r\n * @returns {{osName: string, osVersion: string, platform: string}}\r\n */\r\nexport const getOsParams = (): PlatformInfo => {\r\n  const userAgent = navigator.userAgent.toLowerCase();\r\n  let name = \"Unknown\";\r\n  let version = \"Unknown\";\r\n  if (userAgent.indexOf(\"win\") > -1) {\r\n    name = \"Windows\";\r\n    if (userAgent.indexOf(\"windows nt 5.0\") > -1) {\r\n      version = \"Windows 2000\";\r\n    } else if (\r\n      userAgent.indexOf(\"windows nt 5.1\") > -1 ||\r\n      userAgent.indexOf(\"windows nt 5.2\") > -1\r\n    ) {\r\n      version = \"Windows XP\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.0\") > -1) {\r\n      version = \"Windows Vista\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.1\") > -1 || userAgent.indexOf(\"windows 7\") > -1) {\r\n      version = \"Windows 7\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.2\") > -1 || userAgent.indexOf(\"windows 8\") > -1) {\r\n      version = \"Windows 8\";\r\n    } else if (userAgent.indexOf(\"windows nt 6.3\") > -1) {\r\n      version = \"Windows 8.1\";\r\n    } else if (\r\n      userAgent.indexOf(\"windows nt 6.2\") > -1 ||\r\n      userAgent.indexOf(\"windows nt 10.0\") > -1\r\n    ) {\r\n      version = \"Windows 10\";\r\n    } else {\r\n      version = \"Unknown\";\r\n    }\r\n  } else if (userAgent.indexOf(\"iphone\") > -1) {\r\n    name = \"Iphone\";\r\n  } else if (userAgent.indexOf(\"mac\") > -1) {\r\n    name = \"Mac\";\r\n  } else if (\r\n    userAgent.indexOf(\"x11\") > -1 ||\r\n    userAgent.indexOf(\"unix\") > -1 ||\r\n    userAgent.indexOf(\"sunname\") > -1 ||\r\n    userAgent.indexOf(\"bsd\") > -1\r\n  ) {\r\n    name = \"Unix\";\r\n  } else if (userAgent.indexOf(\"linux\") > -1) {\r\n    if (userAgent.indexOf(\"android\") > -1) {\r\n      name = \"Android\";\r\n    } else {\r\n      name = \"Linux\";\r\n    }\r\n  } else {\r\n    name = \"Unknown\";\r\n  }\r\n  return {\r\n    osName: name,\r\n    osVersion: version,\r\n    platform: /Android|webOS|iPhone|iPod|BlackBerry/i.test(navigator.userAgent) ? \"mobile\" : \"pc\",\r\n  };\r\n};\r\n\r\n/**\r\n * isBrowser\r\n * 检测代码是否运行在浏览器环境\r\n */\r\n\r\nexport const isBrowser: boolean = typeof window === \"object\" && typeof document === \"object\";\r\n\r\n/**\r\n * 获取cookie\r\n * new RegExp(`(^| )${name}=([^;]*)(;|$)`) 匹配 name=value 值\r\n * @param name[可选] cookie名称\r\n * @returns {Array | string | undefined}\r\n */\r\n\r\nexport const getCookie = (name?: string): Array<string> | string | undefined => {\r\n  // Environmental Test\r\n  if (!isBrowser) throw new Error(\"Non-browser environment, unavailable 'getCookie'\");\r\n\r\n  if (!document.cookie) throw new Error(\"No Cookie Found\");\r\n\r\n  if (name) {\r\n    const reg = new RegExp(`(^| )${name}=([^;]*)(;|$)`);\r\n    const arr = document.cookie.match(reg);\r\n    return arr ? arr[2] : undefined;\r\n  }\r\n\r\n  // Get Cookies && String => Array\r\n  return document.cookie.split(\";\");\r\n};\r\n"],"names":["isBrowser","window","_typeof","document","name","Error","cookie","reg","RegExp","concat","arr","match","undefined","split","userAgent","navigator","toLowerCase","version","indexOf","osName","osVersion","platform","test"],"mappings":"geAmEaA,EAAuC,YAAL,oBAANC,OAAM,YAAAC,EAAND,UAA2C,YAAL,oBAARE,SAAQ,YAAAD,EAARC,uBAS9C,SAACC,GAExB,IAAKJ,EAAW,MAAM,IAAIK,MAAM,oDAEhC,IAAKF,SAASG,OAAQ,MAAM,IAAID,MAAM,mBAEtC,GAAID,EAAM,CACR,IAAMG,EAAM,IAAIC,OAAO,QAAQC,OAAAL,EAAmB,kBAC5CM,EAAMP,SAASG,OAAOK,MAAMJ,GAClC,OAAOG,EAAMA,EAAI,QAAKE,CACxB,CAGA,OAAOT,SAASG,OAAOO,MAAM,IAC/B,gBApF2B,WACzB,IAAMC,EAAYC,UAAUD,UAAUE,cAClCZ,EAAO,UACPa,EAAU,UA8Cd,OA7CIH,EAAUI,QAAQ,QAAU,GAC9Bd,EAAO,UAELa,EADEH,EAAUI,QAAQ,mBAAqB,EAC/B,eAEVJ,EAAUI,QAAQ,mBAAqB,GACvCJ,EAAUI,QAAQ,mBAAqB,EAE7B,aACDJ,EAAUI,QAAQ,mBAAqB,EACtC,gBACDJ,EAAUI,QAAQ,mBAAqB,GAAKJ,EAAUI,QAAQ,cAAgB,EAC7E,YACDJ,EAAUI,QAAQ,mBAAqB,GAAKJ,EAAUI,QAAQ,cAAgB,EAC7E,YACDJ,EAAUI,QAAQ,mBAAqB,EACtC,cAEVJ,EAAUI,QAAQ,mBAAqB,GACvCJ,EAAUI,QAAQ,oBAAsB,EAE9B,aAEA,WAGZd,EADSU,EAAUI,QAAQ,WAAa,EACjC,SACEJ,EAAUI,QAAQ,QAAU,EAC9B,MAEPJ,EAAUI,QAAQ,QAAU,GAC5BJ,EAAUI,QAAQ,SAAW,GAC7BJ,EAAUI,QAAQ,YAAc,GAChCJ,EAAUI,QAAQ,QAAU,EAErB,OACEJ,EAAUI,QAAQ,UAAY,EACnCJ,EAAUI,QAAQ,YAAc,EAC3B,UAEA,QAGF,UAEF,CACLC,OAAQf,EACRgB,UAAWH,EACXI,SAAU,wCAAwCC,KAAKP,UAAUD,WAAa,SAAW,KAE7F"}